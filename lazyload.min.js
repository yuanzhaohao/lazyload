(function(t,e){if(typeof define==="function"&&define.amd){define([],e)}else if(typeof exports==="object"){module.exports=e()}else{t.Lazyload=e()}})(this,function(){var t=window,e=document;var n=function(t,e){var n={};var i=Array.prototype,r=Object.prototype,o=Function.prototype;var u=i.slice,a=r.toString,f=r.hasOwnProperty;var l=Object.keys,c=Array.isArray;n.isObject=function(t){var e=typeof t;return e==="function"||e==="object"&&!!t};n.isElement=function(t){return!!(t&&t.nodeType===1)};n.isArray=c||function(t){return a.call(t)==="[object Array]"};n.has=function(t,e){return t!=null&&f.call(t,e)};n.keys=function(t){if(!n.isObject){return[]}if(l){l(t)}var e=[];for(var i in t){if(n.has(t,i)){e.push(i)}}return e};n.extend=function(t,e){if(!e){return t}var i=n.keys(t),r=i.length,o;while(r--){o=i[r];if(e[o]!==undefined){t[o]=e[o]}}return t};n.each=function(t,e,i){var r,o;if(n.isArray(t)){for(r=0,o=t.length;r<o;r++){e.call(i,t[r],r,t)}}else{var u=n.keys(t);for(r=0,o=u.length;r<o;r++){e.call(i,t[u[r]],u[r],t)}}return t};n.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){n["is"+t]=function(e){return a.call(e)==="[object "+t+"]"}});n.buffer=function(t,e,n){var i=this;e=e||150;if(e===-1){return function(){t.apply(n||null,arguments)}}var r=null;function o(){o.stop();r=i.later(t,e,0,n||null,arguments)}o.stop=function(){if(r){r.cancel();r=0}};return o};n.later=function(t,e,n,i,r){if(!t){return}var o=u.call(r);e=e||0;if(typeof t==="string"){t=i[t]}var a=function(){t.apply(i,o)},f=n?setInterval(a,e):setTimeout(a,e);return{id:f,interval:n,cancel:function(){if(this.interval){clearInterval(f)}else{clearTimeout(f)}}}};return n}(window,document,undefined);function i(t){var n=t,i=0,r=0;while(n!=null&&n!=e){i+=n.offsetLeft;r+=n.offsetTop;n=n.offsetParent}return{left:i,top:r}}function r(t){return this instanceof r?this._init.call(this,t):new r(t)}r.prototype={constructor:r,_init:function(t){var e=this;var i={element:document,attribute:"data-lazyload",diff:100,autoDestroy:true,duration:300};e.element=e._getElement(t.element);e.attribute=n.isString(t.attribute)?t.attribute:i.attribute;e.diff=t.diff===undefined?i.diff:t.diff;e.autoDestroy=t.autoDestroy===undefined?i.autoDestroy:t.autoDestroy;e.duration=n.isNumber(t.duration)&&t.duration>0?t.duration:i.duration;e.diff=e._getBoundingRect();e._elementIsNotDocument=e.element.nodeType!=9;e._callbacks={};e._startLis=[];e._initLoadEvent();e.addElements(e.element);e._lazyFn();e._init=null},_initLoadEvent:function(){var t=this,e=t.autoDestroy,i=t.duration;t._lazyFn=n.buffer(function(){if(e&&n.isEmpty(t._callbacks)){return}t._loadItems()},i,t)},_getElement:function(i){var r=this;if(i===t){i=e}if(n.isElement(i)){if(i.nodeName==="BODY"){i=e}}else if(n.isString(i)){i=e.querySelector(i)}return i||e},_getBoundingRect:function(){var t=this,r=t.element,o=t.diff,u=i(r),a=u.left,f=u.top,l,c;if(r==e){var s=e.documentElement.getBoundingClientRect();c=s.width;l=s.height}else{c=r.clientWidth;l=r.clientHeight}if(!n.isObject(o)){o={top:o,right:o,bottom:o,left:o}}return{top:f-(o.top||0),right:a+c+(o.right||0),bottom:f+l+(o.bottom||0),left:a-(o.left||0)}},_loadItems:function(){var t=this},addElements:function(t){var e=this},resume:function(){},pause:function(){},refresh:function(){}};return r});